<?xml version="1.0" encoding="utf-8"?>
<cruisecontrol>
  <project name="%ProjectName%">
    <webURL>%CCNETServer.webURL%</webURL>
    <state type="state" />
    <triggers>
      <intervalTrigger seconds="90" />
    </triggers>
    <modificationDelaySeconds>120</modificationDelaySeconds>
    <sourcecontrol type="filtered">
      <sourceControlProvider  type="vss" applyLabel="true">
        <executable>C:\Program Files\Microsoft Visual Studio\VSS\win32\SS.EXE</executable>
        <project>$/%ProjectName%/%ProjectCodeLineName%</project>
        <username>Build</username>
        <password>password</password>
        <ssdir>%VSSRootShare%\%ProjectName%</ssdir>
        <workingDirectory>%ProjectCodeLineDirectory%</workingDirectory>
      </sourceControlProvider >
      <exclusionFilters>
        <pathFilter>
          <pattern>$/%ProjectName%/%ProjectCodeLineName%/Product/**/AssemblyInfo.*</pattern>
        </pathFilter>
        <pathFilter>
          <pattern>$/%ProjectName%/%ProjectCodeLineName%/Product/ProjectInfo.*</pattern>
        </pathFilter>
        <pathFilter>
          <pattern>$/%ProjectName%/%ProjectCodeLineName%/Product/**/ProjectInfo.*</pattern>
        </pathFilter>
        <pathFilter>
          <pattern>$/%ProjectName%/%ProjectCodeLineName%/Build/*.*</pattern>
        </pathFilter>
        <pathFilter>
          <pattern>$/%ProjectName%/%ProjectCodeLineName%/Build/**/*.*</pattern>
        </pathFilter>
      </exclusionFilters>
    </sourcecontrol>
    <labeller type="defaultlabeller">
      <prefix>1.0.0.</prefix>
    </labeller>
    <tasks>
      <modificationWriter>
        <filename>SourceModificationReport.xml</filename>
        <path>%BuildDirectory%\SourceModificationReports</path>
      </modificationWriter>
      <nant>
        <executable>%BuildDirectory%\nAnt\bin\nant.exe</executable>
        <baseDirectory>%BuildDirectory%</baseDirectory>
        <logger>NAnt.Core.XmlLogger </logger>
        <buildFile>Main.build.xml</buildFile>
        <targetList>
          <target>Triggered</target>
        </targetList>

        <buildTimeoutSeconds>300</buildTimeoutSeconds>
      </nant>
    </tasks>
    <publishers>
      <merge>
        <files>
          <file>%BuildDirectory%\CompileLogs\*.xml</file>
          <file>%BuildDirectory%\Tracker Reports\*.xml</file>
          <file>%BuildDirectory%\Unit Test Reports\*.xml</file>
        </files>
      </merge>
      <xmllogger />
      <email from="%ProjectName%.Build@NGIT.com" mailhost="localhost" includeDetails="true">
        <users>
          <user name="Jay Flowers" group="buildmaster" address="jay.flowers@integic-hc.com"/>
        </users>
        <groups>
          <group name="buildmaster" notification="failed"/>
        </groups>
      </email>
    </publishers>
  </project>
</cruisecontrol>
